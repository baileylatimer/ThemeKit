<!DOCTYPE html>
<html lang="{{ locale }}" dir="{{ direction }}" class="{{ checkout_html_classes }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, height=device-height, minimum-scale=1.0, user-scalable=0">
    <meta name="referrer" content="origin">
    <script src="{{ 'jquery.min.js' | asset_url }}"></script>
    <title>{{ page_title }}</title>

    {{ content_for_header }}

    {{ checkout_stylesheets }}
    {{ checkout_scripts }}

<!-- Insert in head tag -->
<script src="https://cdn.attn.tv/checkout/checkout.js" defer></script>
<script src="https://cdn.attn.tv/gosun/dtag.js"></script>

<style type="text/css">
    .section__content.section__content__attentive {
        border-radius: 4px;
        background-color: #fafafa;
        border: solid 1px #e6e6e6;
        padding: 12px;
    }
    .section__content.section__content__attentive .input-checkbox {
        background: #fff;
    }
    .section__footer__attentive {
        font-size: 9px;
        font-weight: normal;
        font-style: normal;
        font-stretch: normal;
        line-height: 1.25;
        letter-spacing: normal;
        text-align: left;
        color: #000000;
        padding-top: 4px;
    }
    .section__footer__attentive a {
        color: #000000;
        text-decoration: underline;
    }
    .section__footer__attentive b {
        font-weight: bold;
    }
    .checkbox__label.checkbox__label__attentive {
        cursor: auto;
        margin-left: 0.75em;
    }
    .checkbox__label__attentive__header {
        font-size: 14px;
        font-weight: bold;
        font-style: normal;
        font-stretch: normal;
        line-height: 1;
        letter-spacing: normal;
        text-align: left;
        color: #333333;
    }
    .checkbox__label__attentive__subheader {
        font-size: 12px;
        font-weight: normal;
        font-style: normal;
        font-stretch: normal;
        line-height: 1.17;
        letter-spacing: normal;
        text-align: left;
        color: #737373;
        padding-top: 4px;
    }
    .checkbox-wrapper {
        display: -webkit-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        align-items: baseline;
    }
</style>

  </head>
  <body>
    {{ skip_to_content_link }} 

    <header class="banner" data-header role="banner">
      <div class="wrap">
        {{ content_for_logo }}
      </div>
    </header>

    {{ order_summary_toggle }}
    <div class="content" data-content>
      <div class="wrap">
        <div class="main">
          <header class="main__header" role="banner">
            {{ content_for_logo }}
            {{ breadcrumb }}
            {{ alternative_payment_methods }}
          </header>
          <main class="main__content" role="main">
            {{ content_for_layout }}

<!-- insert HTML in body main__content section -->
<div id="attentiveTransactionalOptIn" class="fieldset-description margin-top-md" data-buyer-accepts-transactional-attentive="" aria-label="Phone Sign Up">
  <div class="section__content section__content__attentive">
      <div class="checkbox-wrapper">
          <div class="checkbox__input">
              <input name="attributes[buyer_accepts_transactional_attentive]" type="hidden" value="0">
              <input class="input-checkbox" data-backup="buyer_accepts_transactional" type="checkbox" value="1" name="attributes[buyer_accepts_transactional_attentive]" id="checkout_buyer_accepts_transactional_attentive" aria-labelledby="headers" tabindex="0" focusable="true" checked>
          </div>
          <div class="checkbox__label checkbox__label__attentive">
              <span id="headers" tabindex="0" focusable="true">
                  <div class="checkbox__label__attentive__header">Get SMS alerts about your orders</div>
                  <div class="checkbox__label__attentive__subheader">Stay up to date on your purchase with order confirmation and shipping confirmation messages</div>
              </span>
          </div>
      </div>
  </div>
</div>


          </main>
          <footer class="main__footer" role="contentinfo">
            {{ content_for_footer }}
          </footer>
        </div>
        <aside class="sidebar" role="complementary">
          <div class="sidebar__header">
            {{ content_for_logo }}
          </div>
          <div class="sidebar__content">
            {{ content_for_order_summary }}

          </div>
        </aside>
      </div>
    </div>

    {{ 'main.css' | asset_url | stylesheet_tag }}
    {{ 'fonts.scss.css' | asset_url | stylesheet_tag }}
    {{ 'checkout.scss' | asset_url | stylesheet_tag }} <!-- Checkout specific classes -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp" as="font" type="text/css" >
    
    <script>
    let valueProp = document.createElement('section');  // Create with DOM
    $(document).on(`page:load page:change`, function() { // Handle page switching
      //rm document.querySelector('span.order-summary__small-text').innerText = 'Free';
      document.querySelector('img[alt="GoSun"]').setAttribute('src', '//cdn.shopify.com/s/files/1/0789/1333/files/default--primary.svg?v=1626992792'); // Change logo to SVG
      document.querySelector('#continue_button').classList.add('btn--accent'); // Make btn text white
      $(".order-summary__section--discount").wrap("<details class='padding-y-lg'></details>");
      $("details").prepend("<summary class='color-success'>Add promo code</summary>");

      let moneyback_icon = "restore";
      let moneyback_title = "30 Day Money Back";
      let moneyback_description = "To really figure out if GoSun is right for you, you need to use our products.";

      valueProp.innerHTML = "<div class='border-left border-primary-light border-2 width-100\% cart__gift bg-primary-lighter radius-md padding-md inline-flex flex-column items-left margin-y-xl'>" +   
        "<h3 class='margin-bottom-sm'> The perks of every order</h3>" +       
        "<section class='flex flex-column '>" +  
          "<div class='validator-item margin-sm flex flex-column align-start'>" + 
            "<p class='text-md font-bold margin-top-xs'>" + 
              "<span class='icon icon--default checkout-0-span checkout-0-span-narrow'>" +
                "<i class='icon--lg material-icons-two-tone checkout-0-icon'>{{ 'value_props.warranty.icon' | t }}</i>" + 
              "</span>" +
            "{{ 'value_props.warranty.title' | t }}</p>" + 
            "<p class='text-md color-contrast-high margin-top-xs'>{{ 'value_props.warranty.description' | t }}</p>" + 
          "</div>" + 

          "<div class='validator-item margin-sm flex flex-column  align-start'>" + 
            "<p class='text-md font-bold margin-top-xs'>" + 
              "<span class='icon icon--default checkout-0-span checkout-0-span-wide'>" +
                "<i class='icon--lg material-icons-two-tone checkout-0-icon'>{{ 'value_props.shipping.icon' | t }}</i>" + 
              "</span>" +
            "{{ 'value_props.shipping.title' | t }}</p>" + 
            "<p class='text-md color-contrast-high margin-top-xs'>{{ 'value_props.shipping.description' | t }}</p>" + 
          "</div>" + 

          "<div class='validator-item margin-sm flex flex-column  align-start'>" + 
            "<p class='text-md font-bold margin-top-xs'>" + 
              "<span class='icon icon--default checkout-0-span checkout-0-span-wide'>" +
                "<i class='icon--lg material-icons-two-tone checkout-0-icon'>"+moneyback_icon+"</i>" + 
              "</span>" +
            moneyback_title + "</p>" + 
            "<p class='text-md color-contrast-high margin-top-xs'>"+moneyback_description+"</p>" + 
          "</div>" + 

          "<div class='validator-item margin-sm flex flex-column  align-start'>" + 
            "<p class='text-md font-bold margin-top-xs'>" + 
              "<span class='icon icon--default checkout-0-span checkout-0-span-narrow'>" +
                "<i class='icon--lg material-icons-two-tone checkout-0-icon'>{{ 'value_props.security.icon' | t }}</i>" + 
              "</span>" +
            "{{ 'value_props.security.title' | t }}</p>" + 
            "<p class='text-md color-contrast-high margin-top-xs'>{{ 'value_props.security.description' | t }}</p>" + 
          "</div>" + 
        "</section></div>";

      function mediaQuery(width) {
        if (width.matches) { // If media query matches
          document.querySelector(".main__content").append(valueProp); // Append to main section [mobile ðŸ“±]
        } else {
          document.querySelector("div[data-order-summary-section='payment-lines']").append(valueProp); // Append to payment section [desktop ðŸ–¥ ]
        }
      }
      const width = window.matchMedia("(max-width: 1000px)")
      mediaQuery(width) // Call listener function at run time
      width.addListener(mediaQuery) // Attach listener function on state changes

      });


    </script>


    {{ tracking_code }}
  </body>

</html>
