// File#: _1_switch-icon
// Usage: codyhouse.co/license
(function() {
  var switchIcons = document.getElementsByClassName('js-switch-icon');
  if( switchIcons.length > 0 ) {
    for(var i = 0; i < switchIcons.length; i++) {(function(i){
      if( !Util.hasClass(switchIcons[i], 'switch-icon--hover') ) initswitchIcons(switchIcons[i]);
    })(i);}

    function initswitchIcons(btn) {
      btn.addEventListener('click', function(event){	
        event.preventDefault();
        var status = !Util.hasClass(btn, 'switch-icon--state-b');
        Util.toggleClass(btn, 'switch-icon--state-b', status);
        // emit custom event
        var event = new CustomEvent('switch-icon-clicked', {detail: status});
        btn.dispatchEvent(event);
      });
    };
  }
}());



// File#: _1_radio-switch

  // Theme switch
  var themeSwitch = document.getElementById('themeSwitch-mobile');
  if(themeSwitch) {
      initTheme(); // if user has already selected a specific theme -> apply it
      themeSwitch.addEventListener('change', function(event){
      resetTheme(); // update color theme
  });
  
  function initTheme() {
      var darkThemeSelected = (localStorage.getItem('themeSwitch-mobile') !== null && localStorage.getItem('themeSwitch-mobile') === 'dark');
      // update checkbox
      themeSwitch.checked = darkThemeSelected;
          // update body data-theme attribute
          darkThemeSelected ? document.body.setAttribute('data-theme', 'dark') : document.body.removeAttribute('data-theme');
  };
  
  function resetTheme() {
      if(themeSwitch.checked) { // dark theme has been selected
          document.body.setAttribute('data-theme', 'dark');
          localStorage.setItem('themeSwitch-mobile', 'dark');
      } else {
          document.body.removeAttribute('data-theme');
          localStorage.removeItem('themeSwitch-mobile');
      } 
  };
  }

(function() {
	// Theme switch
	var themeSwitch = document.getElementById('themeSwitch');
	if(themeSwitch) {
		initTheme(); // if user has already selected a specific theme -> apply it
		themeSwitch.addEventListener('change', function(event){
    	resetTheme(); // update color theme
    });

    function initTheme() {
    	var darkThemeSelected = (localStorage.getItem('themeSwitch') !== null && localStorage.getItem('themeSwitch') === 'dark');
    	// update checkbox
    	themeSwitch.checked = darkThemeSelected;
			// update body data-theme attribute
			darkThemeSelected ? document.body.setAttribute('data-theme', 'dark') : document.body.removeAttribute('data-theme');
    };

    function resetTheme() {
    	if(themeSwitch.checked) { // dark theme has been selected
    		document.body.setAttribute('data-theme', 'dark');
    		localStorage.setItem('themeSwitch', 'dark');
    	} else {
    		document.body.removeAttribute('data-theme');
    		localStorage.removeItem('themeSwitch');
    	} 
    };
  }
  console.log('Theme switch complete!')
}());

    






